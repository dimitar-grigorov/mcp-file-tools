# Smithery configuration file: https://smithery.ai/docs/config#smitheryyaml
# Non-UTF-8 file encoding server: Cyrillic (CP1251, KOI8), Windows-1250-1258, ISO-8859 with auto-detection and Unicode conversion.

runtime: container

startCommand:
  type: stdio
  configSchema:
    type: object
    required:
      - allowedDirectory
    properties:
      allowedDirectory:
        type: string
        description: The primary directory the server is allowed to access. Use '/app/data' for the default mount point in the container.
      additionalDirectories:
        type: array
        items:
          type: string
        description: Optional additional directories the server can access.
  commandFunction:
    |-
    (config) => {
      const args = [config.allowedDirectory];
      if (config.additionalDirectories && Array.isArray(config.additionalDirectories)) {
        args.push(...config.additionalDirectories);
      }
      return { command: './server', args: args };
    }
  exampleConfig:
    allowedDirectory: /app/data
    additionalDirectories: []
